# 第五章 循环结构程序设计

## 5.1 为什么需要循环控制

在程序所处理的问题中，常常遇到需要重复处理的问题，用一个循环语句，实现需要重复执行的程序段。

## 5.2 用while语句实现循环

1. while 语句的一般形式：`while(表达式)　　语句`
2. while语句可简单地记为: 只要当循环条件表达式为真(即给定的条件成立)，就执行循环体语句。
3. “语句”就是循环体。循环体可以是一个简单的语句，可以是复合语句(用花括号括起来的若干语句)。
4. 执行循环体的次数是由循环条件控制的，这个循环条件就是上面一般形式中的“表达式”，它也称为循环条件表达式。当此表达式的值为“真” (以非0值表示)时，就执行循环体语句；为“假” (以0表示)时，就不执行循环体语句。
5. **注意**：while循环的特点是先判断条件表达式，后执行循环体语句。

## 5.3 用do... while语句实现循环

1. 一般形式：`do　　语句　while(表达式);`
2. do…while语句的特点是，先无条件地执行循环体，然后判断循环条件是否成立。

## 5.4 用for()语句实现循环

1. 一般形式：`for(表达式1；表达式2；表达式3)　　语句`

   * 表达式1: 设置初始条件，只执行一次。可以为零个、一个或多个变量设置初值。
   * 表达式2: 是循环条件表达式，用来判定是否继续循环。在每次执行循环体前先执行此表达式，决定是否继续执行循环。
   * 表达式3: 作为循环的调整，例如使循环变量增值，它是在执行完循环体后才进行的。
   * 可以理解为：`for(循环变量赋初值;循环条件;循环变量增值) 语句`
   * for语句更为灵活，不仅可以用于循环次数已经确定的情况，还可以用于循环次数不确定而只给出循环结束条件的情况，它完全可以代替while语句。
2. 执行过程
   1. 求解表达式1。
   2. 求解表达式2，若此条件表达式的值为真(非0)，则执行for语句中的循环体，然后执行第(3)步。若为假(0)，则结束循环，转到第(5)步。
   3. 求解表达式3。
   4. 转回步骤(2)继续执行。

      **注意**: 在执行完循环体后，循环变量的值“超过”循环终值，循环结束。
   5. 循环结束，执行for语句下面的一个语句。
3. **注意**
   * “表达式1”可以省略，即不设置初值，但表达式1后的分号不能省略。例如: for(；i<=100;i++)。应当注意: 由于省略了表达式1，没有对循环变量赋初值，因此，为了能正常执行循环，应在for语句之前给循环变量赋以初值。
   * 表达式2也可以省略，即不用表达式2来作为循环条件表达式，不设置和检查循环的条件。此时循环无终止地进行下去,也就是认为表达式2始终为真。
   * 表达式3也可以省略，但此时程序设计者应另外设法保证循环能正常结束。
   * 甚至可以将3个表达式都可省略，即不设初值，不判断条件(认为表达式2为真值)，循环变量也不增值，无终止地执行循环体语句，显然这是没有实用价值的。
   * 表达式1可以是设置循环变量初值的赋值表达式，也可以是与循环变量无关的其他表达式。表达式3也可以是与循环控制无关的任意表达式。但不论怎样写for语句，都必须使循环能正常执行。
   * 表达式1和表达式3可以是一个简单的表达式，也可以是逗号表达式，即包含一个以上的简单表达式，中间用逗号间隔。
   * 表达式2一般是关系表达式或逻辑表达式，但也可以是数值表达式或字符表达式，只要其值为非零，就执行循环体。
   * for语句的循环体可为空语句，把本来要在循环体内处理的内容放在表达式3中，作用是一样的。可见for语句功能强，可以在表达式中完成本来应在循环体内完成的操作。  
   * C 99允许在for语句的“表达式1”中定义变量并赋初值。
   * C语言的 for 语句比其他语言 （如 FORTRAN，Pascal） 中的 for 语句功能强得多。
   * 可以把循环体和一些与循环控制无关的操作也作为表达式1或表达式3出现，注意程序可以短小简洁。但应注意：过分利用这一特点会使 for 语句显得杂乱，可读性降低。**最好不用把与循环控制无关的内容放到for语句中。**

## 5.5 循环的嵌套

一个循环体内又包含了另一个完整的循环结构，称为循环的嵌套。

## 5.6 几种循环的比较

1. 3种循环都可以用来处理同一问题，一般情况下它们可以互相代替。
2. 在while循环和do…while循环中，只在while后面的括号内指定循环条件，因此为了使循环能正常结束，应在循环体中包含使循环趋于结束的语句(如i++，或i=i+1等)。
for循环可以在表达式3中包含使循环趋于结束的操作，甚至可以将循环体中的操作全部放到表达式3中。因此for语句的功能更强，凡用while循环能完成的，用for循环都能实现。
3. 用while和do…while循环时，循环变量初始化的操作应在while和do…while语句之前完成。而for语句可以在表达式1中实现循环变量的初始化。
4. while循环、do…while循环和for循环都可以用break语句跳出循环，用continue语句结束本次循环。

## 5.7 改变循环执行的状态

### 5.7.1 用break语句提前终止循环

break语句：`break;`

* 作用是使流程调到循环体之外，接着执行循环体之后的语句。
* 可以使流程跳出switch结构，继续执行switch语句下面的语句，
* 还可以用来从循环体内跳出循环体，即提前结束循环，接着执行循环下面的语句。
* **break语句只能用在循环语句和switch语句中，不能单独使用。**

### 5.7.2 用continue语句提前结束本次循环

continue语句:`continue;`

* 作用是结束本次循环，即跳过循环体下面尚未执行的语句，
转到循环体结束点之前，接着执行for语句中的表达式3，然后进行下一次是否执行循环的判定。
* **continue语句只结束本次循环，而非终止整个循环。break语句结束整个循环，不再判断执行循环的条件是否成立**

### 5.7.3 break语句和continue语句的区别

* continue语句只结束本次循环，而不是终止整个循环的执行。
* break语句则是结束整个循环过程，不再判断执行循环的条件是否成立。
